services:
  - name: univerbot-embedding
    type: web
    instance_type: nano  # 512MB RAM optimized
    regions:
      - was # Washington, D.C.
    scaling:
      min: 1
      max: 1
    ports:
      - port: 8000
        protocol: http
    routes:
      - path: /
        port: 8000
    health_checks:
      - path: /health
        port: 8000
        protocol: http
        initial_delay_seconds: 30
        period_seconds: 15
        timeout_seconds: 10
    env:
      - key: PORT
        value: "8000"
      - key: PYTHONUNBUFFERED
        value: "1"
    docker:
      dockerfile: Dockerfile
